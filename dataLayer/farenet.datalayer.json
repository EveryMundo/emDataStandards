{
    "id": "/farenet.datalayer",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "FareNet DataLayer",
    "description": "fareNet 3.0 includes journey only",
    "type": "object",
    "properties": {
        "priceSpecification": {
            "description": "priceSpecification",
            "type": "object",
            "properties": {
                "currencyCode": {
                    "description": "The currency (in 3-letter ISO 4217 format) of the price.",
                    "type": "string",
                    "example": "USD"
                  },
                  "currencySymbol": {
                    "description": "Currency symbol",
                    "type": "string",
                    "example": "$"
                  }
            }
        },
        "journey": {
        "description": "Journey",
        "type": "object",
        "properties": {
          "passengerDetails": {
            "description": "Passenger Details captured from IBE",
            "type": "array",
            "properties": {
                "category": {
                "description": "Any passenger category following the format category[Age]To[Age]Count or category[Age]Plus",
                "type": "string",
                "example": "Adult"
                },
                "count": {
                "description": "Amount of passengers for a specific category",
                "type": "number",
                "example": 1
                }
            }
          },
          "outboundFlight": {
            "description": "outboundFlight",
            "type": "object",
            "properties": {
              "boundType": {
                "description": "boundType",
                "type": "string",
                "example": "OUTBOUND"
              },
              "route": {
                "description": "route",
                "type": "string",
                "example": "SFO>JFK"
              },
              "priceSpecification": {
                "description": "priceSpecification",
                "type": "object",
                "properties": {
                  "priceBeforeTaxesAndFees": {
                    "description": "priceBeforeTaxesAndFees",
                    "type": "number",
                    "example": 750.12
                  },
                  "totalPrice": {
                    "description": "totalPrice",
                    "type": "number",
                    "example": 825.51
                  },
                  "taxAmount": {
                    "description": "taxAmount",
                    "type": "number",
                    "example": 75.39
                  },
                  "redemption": {
                    "allOf": [
                        {"$ref": "./redemption_base.schema.json"}
                    ]                   
                  }
                }
              },
              "fareClassInput": {
                "description": "Name of the fare class given by airline in sentence case, e.g. Economy Basic",
                "type": "string",
                "example": "Economy Basic"
              },
              "fareClass": {
                "description": "fareClass",
                "type": "string",
                "example": "ECONOMY"
              },
              "departureAirportIataCode": {
                "description": "departureAirportIataCode",
                "type": "string",
                "example": "SFO"
              },
              "arrivalAirportIataCode": {
                "description": "arrivalAirportIataCode",
                "type": "string",
                "example": "JFK"
              },
              "departureDate": {
                "description": "Departure Date",
                "type": "string",
                "example": "2017-12-07"
              },
              "estimatedDuration": {
                "description": "Estimated Duration of the flight",
                "type": "string",
                "example": "PT9H45M"
              },
              "availableSeatsCount": {
                "description": "availableSeatsCount",
                "type": "string",
                "example": "9+"
              },
              "legs": {
                "$ref": "./legs_base.schema.json"
                }
              },
              "departureCity": {
                "$ref": "./departureCity_base.schema.json"
              },
              "departureCountry": {
                "$ref": "./country_base.schema.json"
              },
              "arrivalCity": {
                "$ref": "./arrivalCity_base.schema.json"
              },
              "arrivalCountry": {
                "$ref": "./country_base.schema.json"
              },
              "flightType": {
                "description": "flightType",
                "type": "string",
                "example": "DOMESTIC"
              },
              "routeType": {
                "description": "routeType",
                "type": "string",
                "example": "CONNECTING"
              },
              "discount": {
                "$ref": "./discount.schema.json"
              },
              "additionalInfo": {
                "$ref": "./additionalInfo.schema.json"
              }
          },
          "inboundFlight": {
            "description": "inboundFlight",
            "type": "object",
            "properties": {
              "boundType": {
                "description": "boundType",
                "type": "string",
                "example": "INBOUND"
              },
              "route": {
                "description": "route",
                "type": "string",
                "example": "JFK>SFO"
              },
              "priceSpecification": {
                "description": "priceSpecification",
                "type": "object",
                "properties": {
                  "priceBeforeTaxesAndFees": {
                    "description": "priceBeforeTaxesAndFees",
                    "type": "number",
                    "example": 750.12
                  },
                  "totalPrice": {
                    "description": "totalPrice",
                    "type": "number",
                    "example": 825.51
                  },
                  "taxAmount": {
                    "description": "taxAmount",
                    "type": "number",
                    "example": 75.39
                  },
                  "redemption": {
                    "$ref": "./redemption_base.schema.json"
                  }
                }
              },
              "fareClassInput": {
                "description": "fareClassInput",
                "type": "string",
                "example": "Economy"
              },
              "fareClass": {
                "description": "fareClass",
                "type": "string",
                "example": "ECONOMY"
              },
              "departureAirportIataCode": {
                "description": "departureAirportIataCode",
                "type": "string",
                "example": "JFK"
              },
              "arrivalAirportIataCode": {
                "description": "arrivalAirportIataCode",
                "type": "string",
                "example": "SFO"
              },
              "departureDate": {
                "description": "Departure Date",
                "type": "string",
                "example": "2017-12-10"
              },
              "estimatedDuration": {
                "description": "estimatedDuration",
                "type": "string",
                "example": "PT9H45M"
              },
              "availableSeatsCount": {
                "description": "availableSeatsCount",
                "type": "string",
                "example": "9+"
              },
              "legs": {
                "description": "legs",
                "type": "array",
                "items": {
                  "type": "object"
                }
              },
              "departureCity": {
                "$ref": "./departureCity_base.schema.json"
              },
              "departureCountry": {
                "$ref": "./country_base.schema.json"
              },
              "arrivalCity": {
                "$ref": "./arrivalCity_base.schema.json"
              },
              "arrivalCountry": {
                "$ref": "./country_base.schema.json"
              },
              "flightType": {
                "description": "flightType",
                "type": "string",
                "example": "DOMESTIC"
              },
              "routeType": {
                "description": "routeType",
                "type": "string",
                "example": "NONSTOP"
              },
              "discount": {
                "$ref": "./discount.schema.json"
              },
              "additionalInfo": {
                "$ref": "./additionalInfo.schema.json"
              }
            }
          },
          "fareTensor": {
            "$ref": "./fareTensor.schema.json"
          },
          "departureDate": {
            "description": "departureDate",
            "type": "string",
            "example": "2017-12-07"
          },
          "returnDate": {
            "description": "returnDate",
            "type": "string",
            "example": "2017-12-10"
          },
          "journeyType": {
            "description": "ROUND_TRIP, ONE_WAY, or MULTI_CITY",
            "type": "string",
            "example": "ROUND_TRIP"
          },
          "flightType": {
            "description": "DOMESTIC, INTERNATIONAL",
            "type": "string",
            "example": "DOMESTIC"
          },
          "airline": {
            "$ref": "./airline_base.schema.json"
          }
      },
      "page": {
        "$ref": "./page_base.schema.json"
      }
    }},
    "required": ["journey", "page", "device", "metadata"],
    "links": [
      {
        "title": "FareNet DataLayer",
        "description": "FareNet DataLayer",
        "rel": "self",
        "href": "/farenet.datalayer",
        "method": "GET",
        "targetSchema": {
          "rel": "self"
        }
      }
    ]
  }