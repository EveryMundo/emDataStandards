{
    "id": "/farenet.datalayer",
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "FareNet DataLayer",
    "description": "FareNet DataLayer",
    "type": "object",
    "properties": {
        "priceSpecification": {
            "description": "priceSpecification",
            "type": "object",
            "properties": {
                "currencyCode": {
                    "description": "The currency (in 3-letter ISO 4217 format) of the price.",
                    "type": "string",
                    "example": "USD"
                    },
                "currencySymbol": {
                    "description": "Currency symbol",
                    "type": "string",
                    "example": "$"
                }
            }
        },  
        "journey": {
            "description": "Journey",
            "type": "object",
            "properties": {
                "passengerDetails": {
                    "description": "Passenger Details captured from IBE",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "category": {
                                "description": "Any passenger category following the format category[Age]To[Age]Count or category[Age]Plus",
                                "type": "string",
                                "example": "Adult"
                            },
                            "count": {
                                "description": "Amount of passengers for a specific category",
                                "type": "number",
                                "example": 1
                            }
                        }
                    }
                    
                },
                "flights": {
                    "description": "Flight",
                    "type": "array",
                    "items": {
                        "properties": {
                            "boundType": {
                              "description": "boundType",
                              "type": "string",
                              "example": "OUTBOUND"
                            },
                            "priceSpecification": {
                                "description": "PriceSpecification",
                                "type": "object",
                                "properties": {
                                    "priceBeforeTaxesAndFees": {
                                        "description": "Price for the reservation or ticket",
                                        "type": "number",
                                        "example": 234.21
                                    },
                                    "totalPrice": {
                                        "description": "The total price for the reservation or ticket, including applicable taxes, shipping, etc.",
                                        "type": "number",
                                        "example": 250.6
                                    },
                                    "taxAmount": {
                                        "description": "The amount paid in taxes",
                                        "type": "number",
                                        "example": 16.39
                                    },
                                    "additionalFeesAmount": {
                                        "description": "Airline additional fees",
                                        "type": "number",
                                        "example": 12
                                    },
                                    "redemption": {
                                        "description": "Redemption",
                                        "type": "object",
                                        "properties": {
                                            "unit": {
                                            "description": "MILES, BITCOIN, POINTS, OTHER",
                                            "type": "string",
                                            "example": "MILES"
                                            },
                                            "amount": {
                                            "description": "Amount of redemption units",
                                            "type": "number",
                                            "example": 1500
                                            },
                                            "taxAmount": {
                                            "description": "The amount paid in taxes",
                                            "type": "number",
                                            "example": 16.39
                                            },
                                            "category": {
                                            "description": "Miles Category Name",
                                            "type": "string",
                                            "example": "Economy MileSAAver"
                                            }
                                        }
                                    }
                                }
                            },
                            "fareClassInput": {
                              "description": "Name of the fare class given by airline in sentence case, e.g. Economy Basic",
                              "type": "string",
                              "example": "Economy Basic"
                            },
                            "fareClass": {
                              "description": "fareClass mapped to either 'ECONOMY', 'BUSINESS' or 'FIRST' class",
                              "type": "string",
                              "example": "ECONOMY"
                            },
                            "departureAirportIataCode": {
                              "description": "departureAirportIataCode",
                              "type": "string",
                              "example": "SFO"
                            },
                            "arrivalAirportIataCode": {
                              "description": "arrivalAirportIataCode",
                              "type": "string",
                              "example": "JFK"
                            },
                            "departureDate": {
                              "description": "Departure Date",
                              "type": "string",
                              "example": "2017-12-07"
                            },
                            "estimatedDuration": {
                              "description": "Estimated Duration of the flight",
                              "type": "string",
                              "example": "PT9H45M"
                            },
                            "availableSeatsCount": {
                              "description": "Number of available Seats",
                              "type": "string",
                              "example": "9+"
                            },
                            "legs": {
                                "$ref": "./legs_base.schema.json"
                            },
                            "departureCity": {
                              "$ref": "./departureCity_base.schema.json"
                            },
                            "departureCountry": {
                              "$ref": "./country_base.schema.json"
                            },
                            "arrivalCity": {
                              "$ref": "./arrivalCity_base.schema.json"
                            },
                            "arrivalCountry": {
                              "$ref": "./country_base.schema.json"
                            },
                            "flightType": {
                              "description": "flightType",
                              "type": "string",
                              "example": "DOMESTIC"
                            },
                            "routeType": {
                              "description": "NONSTOP, DIRECT (plane may stop but people do not get off) or CONNECTING depending on the number of stops",
                              "type": "string",
                              "example": "CONNECTING"
                            }
                         
                        }
                    }  
                },
                "fareTensor": {
                    "$ref": "./fareTensor_base.schema.json"
                },
                "departureDate": {
                    "description": "Departure Date",
                    "type": "string",
                    "example": "2018-07-26"
                },
                "returnDate": {
                    "description": "Return Date",
                    "type": "string",
                    "example": "2018-07-29"
                },
                "journeyType": {
                    "description": "ROUND_TRIP, ONE_WAY, or MULTI_CITY",
                    "type": "string",
                    "example": "ROUND_TRIP"
                },
                "flightType": {
                    "description": "DOMESTIC, INTERNATIONAL",
                    "type": "string",
                    "example": "DOMESTIC"
                },
                "airline": {
                    "$ref": "./airline_base.schema.json"
                }
            }
        },
        "page": {
            "description": "WebPage",
            "type": "object",
            "properties": {
                "languageIsoCode": {
                    "description": "Language ISO 639-1 code",
                    "type": "string",
                    "example": "en"
                  },
                  "siteEdition": {
                    "description": "Site edition combination of ISO codes for language and country",
                    "type": "string",
                    "example": "en-US"
                  }
            }
        }
    },
    "required": [],
    "links": [
    {
        "title": "FareNet dataLayer",
        "description": "FareNet dataLayer",
        "rel": "self",
        "href": "/farenet.datalayer",
        "method": "GET",
        "targetSchema": {
        "rel": "self"
        }
    }
    ]
}

    